sap.ui.define(["sap/ui/test/Opa5","sap/ui/test/actions/Press","sap/ui/test/actions/EnterText","sap/ui/test/matchers/AggregationLengthEquals","sap/ui/test/matchers/BindingPath","sap/ui/test/matchers/Properties","sap/ui/test/matchers/AggregationFilled","sap/ui/test/matchers/PropertyStrictEquals","sap/m/MessageToast"],function(e,t,s,r,a,n,i,o,l){"use strict";var u="Orders";function c(e){var t=e.position;return{id:"ordersTable",viewName:u,matchers:function(e){return e.getItems()[t]},actions:e.actions,success:e.success,errorMessage:"A lista nem tartalmaz elemet ezen a pozíción: '"+t+"'"}}e.createPageObjects({onTheOrdersPage:{actions:{iSearchFor:function(e){return this.waitFor({id:"idOrdersSearchField",viewName:u,actions:new s({text:e}),errorMessage:"A keresés mező nem található."})},iSortTheListOnOrderId:function(){return this.iChooseASorter("sortButton","Megrendelés azonosító")},iSortTheListOnFirstName:function(){return this.iChooseASorter("sortButton","Megrendelő-Keresztnév")},iSortTheListOnLastName:function(){return this.iChooseASorter("sortButton","Megrendelő-Vezetéknév")},iSortTheListOnOrderDate:function(){return this.iChooseASorter("sortButton","Megrendelési dátum")},iSortTheListOnFulfillDate:function(){return this.iChooseASorter("sortButton","Megrendelés teljesítési dátum")},iChooseASorter:function(e,s){return this.waitFor({id:e,viewName:u,actions:new t,success:function(){this.waitFor({controlType:"sap.m.StandardListItem",matchers:new o({name:"title",value:s}),searchOpenDialogs:true,actions:new t,success:function(){this.waitFor({controlType:"sap.m.Button",matchers:new o({name:"text",value:"OK"}),searchOpenDialogs:true,actions:new t,errorMessage:"Az 'ok' gomb nem található az ablakban és nem lehet megnyomni."})},errorMessage:"Nem található a választási lehetőség: "+s})},errorMessage:"Nem található a választó: "+e})},iFilterTheListOnFulfillment:function(){return this.iMakeASelection("filterButton","Teljesítettség","Nem teljesített")},iMakeASelection:function(e,s,r){return this.waitFor({id:e,viewName:u,actions:new t,success:function(){this.waitFor({controlType:"sap.m.StandardListItem",matchers:new o({name:"title",value:s}),searchOpenDialogs:true,actions:new t,success:function(){this.waitFor({controlType:"sap.m.StandardListItem",matchers:new o({name:"title",value:r}),searchOpenDialogs:true,actions:new t,success:function(){this.waitFor({controlType:"sap.m.Button",matchers:new o({name:"text",value:"OK"}),searchOpenDialogs:true,actions:new t,errorMessage:"Az 'ok' gomb nem található az ablakban és nem lehet megnyomni."})},errorMessage:"Nem található a választási lehetőség:"+r+"-"+s})},errorMessage:"Nem található a lehetőség: "+s})},errorMessage:"Nem található a választó: "+e})},iOpenViewSettingsDialog:function(){return this.waitFor({id:"filterButton",viewName:u,actions:new t,errorMessage:"Nem található a 'szűrés' gomb."})},iPressOKInViewSelectionDialog:function(){return this.waitFor({searchOpenDialogs:true,controlType:"sap.m.Button",matchers:new e.matchers.PropertyStrictEquals({name:"text",value:"OK"}),actions:new t,errorMessage:"Nem található a beállítások ablak 'OK' gombja."})},iPressResetInViewSelectionDialog:function(){return this.waitFor({searchOpenDialogs:true,controlType:"sap.m.Button",matchers:new e.matchers.PropertyStrictEquals({name:"icon",value:"sap-icon://clear-filter"}),actions:new t,errorMessage:"Nem található a beállítások ablak 'Megszakítás' gombja."})},iPressOnNewTab:function(){return this.waitFor({id:"idNewOrderTab",viewName:u,actions:new t,success:function(){e.assert.ok(true,"Az 'Új megrendelés hozzáadása' fül kiválasztva.")},errorMessage:"Nem található az 'Új megrendelés hozzáadása' fül az aktuális oldalon."})},iPressOnListTab:function(){return this.waitFor({id:"idOrderListTab",viewName:u,actions:new t,errorMessage:"Nem található az 'Megrendelések' fül az aktuális oldalon."})},iSelectCustomerToAdd:function(s){return this.waitFor({id:"customerSelect",controlType:"sap.m.ComboBox",viewName:u,actions:new t,success:function(){this.waitFor({controlType:"sap.ui.core.ListItem",matchers:new o({name:"key",value:s}),actions:new t,success:function(){e.assert.ok(true,s+" azonosítójú vásárló kiválasztva.")},errorMessage:s+" azonosítójú vásárlót nem lehet kiválasztani."})},errorMessage:"Nem található az vásárlók mező az aktuális oldalon."})},iSelectProductToAdd:function(s){return this.waitFor({id:"productSelect",controlType:"sap.m.ComboBox",viewName:u,actions:new t,success:function(){this.waitFor({controlType:"sap.ui.core.ListItem",matchers:new o({name:"key",value:s}),actions:new t,success:function(){e.assert.ok(true,s+" azonosítójú termék kiválasztva.")},errorMessage:s+" azonosítójú terméket nem lehet kiválasztani."})},errorMessage:"Nem található az termékek mező az aktuális oldalon."})},iPressOnAddProduct:function(){return this.waitFor({controlType:"sap.m.Button",id:"idAddProduct",viewName:u,actions:new t,success:function(){e.assert.ok(true,"Hozzáadás gomb megnyomása. Termék sikeresen hozzáadva.")},errorMessage:"Nem található az 'Hozzáadás' gomb"})},iPressOnNextButton:function(){return this.waitFor({controlType:"sap.m.Button",viewName:u,actions:new t,success:function(){},errorMessage:"Nem található az 'Tovább' gomb"})},iPressOnConfirm:function(){return this.waitFor({id:"idConfirmOrder",searchOpenDialogs:true,controlType:"sap.m.Button",matchers:new e.matchers.PropertyStrictEquals({name:"id",value:"idConfirmOrder"}),actions:new t,success:function(){e.assert.ok(true,"A megerősítés ablak megjelenik. Megrendelés gomb megnyomása.")},errorMessage:"Nem található a megerősítés ablak 'Megrendelés' gombja."})},iShouldPressSuccessTheMessageBoxClose:function(){return this.waitFor({id:"idOrderAddSuccessMessageBox",autoWait:false,success:function(t){t.destroy();e.assert.ok(true,"A sikeres megrendelés ablak megjelenik. OK gomb megnyomása.")}})}},assertions:{iShouldSeeTheApp:function(){return this.waitFor({viewName:u,success:function(){e.assert.ok(true,"A megrendelések oldal megjelenik.")},errorMessage:"A megrendelések oldal nem található."})},theTableHasZeroItem:function(){return this.waitFor({id:"ordersTable",viewName:u,matchers:new r({name:"items",length:0}),success:function(){e.assert.ok(true,"A lista 0 megfelelő elemet tartalmaz.")},errorMessage:"A lista nem 0 megfelelő elemet tartalmaz."})},theTableHasOneItem:function(){return this.waitFor({id:"ordersTable",viewName:u,matchers:new r({name:"items",length:1}),success:function(){e.assert.ok(true,"A lista 1 megfelelő elemet tartalmaz.")},errorMessage:"A lista nem 1 megfelelő elemet tartalmaz."})},theListShouldBeSortedAscendingOnOrderId:function(){return this.theListShouldBeSortedAscendingOnField("id")},theListShouldBeSortedAscendingOnFirstName:function(){return this.theListShouldBeSortedAscendingOnField("customer/firstName")},theListShouldBeSortedAscendingOnLastName:function(){return this.theListShouldBeSortedAscendingOnField("customer/lastName")},theListShouldBeSortedAscendingOnOrderDate:function(){return this.theListShouldBeSortedAscendingOnOrderDate("orderDate")},theListShouldBeSortedAscendingOnFulfillDate:function(){return this.theListShouldBeSortedAscendingOnFulfillDate("fulfillDate")},theListShouldBeSortedAscendingOnField:function(t){function s(e){var s=null,r=function(e){if(!e.getBindingContext()){return false}var r=e.getBindingContext().getProperty(t);if(r===undefined){return false}if(!s||r>=s){s=r}return true};return e.getItems().every(r)}return this.waitFor({viewName:u,id:"ordersTable",matchers:s,success:function(){e.assert.ok(true,"A lista jól van rendezve a feltételre: '"+t+"'.")},errorMessage:"A lista nincs jól rendezve a feltételre: '"+t+"'."})},theListShouldBeFilteredOnFulfillment:function(){return this.theListShouldBeFilteredOnFieldUsingComparator("fulfillDate",null)},theListShouldBeFilteredOnFieldUsingComparator:function(t,s){function r(e){var r=function(e){if(!e.getBindingContext()){return false}else{var r=e.getBindingContext().getProperty(t);if(r!=s){return false}else{return true}}};return e.getItems().every(r)}return this.waitFor({viewName:u,id:"ordersTable",matchers:r,success:function(){e.assert.ok(true,"A lista jól van szűrve a feltételre: '"+t+"'.")},errorMessage:"A lista nincs jól szűrve a feltételre: '"+t+"'."})}}}})});