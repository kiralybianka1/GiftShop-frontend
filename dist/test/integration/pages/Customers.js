sap.ui.define(["sap/ui/test/Opa5","sap/ui/test/actions/Press","sap/ui/test/actions/EnterText","sap/ui/test/matchers/AggregationLengthEquals","sap/ui/test/matchers/BindingPath","sap/ui/test/matchers/Properties","sap/ui/test/matchers/AggregationFilled","sap/ui/test/matchers/PropertyStrictEquals","sap/m/MessageToast"],function(e,t,a,s,r,i,n,o,l){"use strict";var u="Customers";function c(e){var t=e.position;return{id:"customersList",viewName:u,matchers:function(e){return e.getItems()[t]},actions:e.actions,success:e.success,errorMessage:"A lista nem tartalmaz elemet ezen a pozíción: '"+t+"'"}}e.createPageObjects({onTheCustomersPage:{actions:{iSearchFor:function(e){return this.waitFor({id:"idCustomersSearchField",viewName:u,actions:new a({text:e}),errorMessage:"A keresés mező nem található."})},iSortTheListOnFirstName:function(){return this.iChooseASorter("sortButton","Keresztnév")},iSortTheListOnLastName:function(){return this.iChooseASorter("sortButton","Vezetéknév")},iSortTheListOnCustomerId:function(){return this.iChooseASorter("sortButton","Vásárló azonosító (ID)")},iChooseASorter:function(e,a){return this.waitFor({id:e,viewName:u,actions:new t,success:function(){this.waitFor({controlType:"sap.m.StandardListItem",matchers:new o({name:"title",value:a}),searchOpenDialogs:true,actions:new t,success:function(){this.waitFor({controlType:"sap.m.Button",matchers:new o({name:"text",value:"OK"}),searchOpenDialogs:true,actions:new t,errorMessage:"Az 'ok' gomb nem található az ablakban és nem lehet megnyomni."})},errorMessage:"Nem található a választási lehetőség: "+a})},errorMessage:"Nem található a választó: "+e})},iFilterTheListOnTypeCivil:function(){return this.iMakeASelection("filterButton","Típus","Magánszemély")},iMakeASelection:function(e,a,s){return this.waitFor({id:e,viewName:u,actions:new t,success:function(){this.waitFor({controlType:"sap.m.StandardListItem",matchers:new o({name:"title",value:a}),searchOpenDialogs:true,actions:new t,success:function(){this.waitFor({controlType:"sap.m.StandardListItem",matchers:new o({name:"title",value:s}),searchOpenDialogs:true,actions:new t,success:function(){this.waitFor({controlType:"sap.m.Button",matchers:new o({name:"text",value:"OK"}),searchOpenDialogs:true,actions:new t,errorMessage:"Az 'ok' gomb nem található az ablakban és nem lehet megnyomni."})},errorMessage:"Nem található a választási lehetőség: "+s+"-"+a})},errorMessage:"Nem található a lehetőség: "+a})},errorMessage:"Nem található a választó: "+e})},iPressATableItemAtPosition:function(e){return this.waitFor(c({position:e,actions:new t}))},iRememberTheItemAtPosition:function(e){return this.waitFor(c({position:e,success:function(e){var t=e.getBindingContext();this.getContext().currentItem={bindingPath:t.getPath(),id:t.getProperty("id"),name:t.getProperty("firstName")+" "+t.getProperty("lastName")}}}))},iOpenViewSettingsDialog:function(){return this.waitFor({id:"filterButton",viewName:u,actions:new t,errorMessage:"Nem található a 'szűrés' gomb."})},iPressOKInViewSelectionDialog:function(){return this.waitFor({searchOpenDialogs:true,controlType:"sap.m.Button",matchers:new e.matchers.PropertyStrictEquals({name:"text",value:"OK"}),actions:new t,errorMessage:"Nem található a beállítások ablak 'OK' gombja."})},iPressResetInViewSelectionDialog:function(){return this.waitFor({searchOpenDialogs:true,controlType:"sap.m.Button",matchers:new e.matchers.PropertyStrictEquals({name:"icon",value:"sap-icon://clear-filter"}),actions:new t,errorMessage:"Nem található a beállítások ablak 'Megszakítás' gombja."})},iPressOnAddCustomer:function(){return this.waitFor({id:"idAddCustomer",viewName:u,actions:new t,errorMessage:"Nem található a 'Hozzáadás' gomb."})},iPressOnAddCustomerClose:function(){return this.waitFor({id:"idCloseAddDataSheet",actions:new t,errorMessage:"Nem található a hozzáadás ablak 'Bezárás' gombja."})},iPressOnConfirmAdd:function(){return this.waitFor({id:"idConfirmAddDataSheet",actions:new t,errorMessage:"Nem található a hozzáadás ablak 'Hozzáadás' gombja."})},iShouldPressTheMessageBoxClose:function(){return this.waitFor({id:"idCustomerAddErrorMessageBox",autoWait:false,success:function(e){e.destroy()}})},iShouldPressSuccessTheMessageBoxClose:function(){return this.waitFor({id:"idCustomerAddSuccessMessageBox",autoWait:false,success:function(e){e.destroy()}})},iAddTheFirstName:function(e){return this.waitFor({id:"addCustomerFirstName",matchers:new o({name:"id",value:"addCustomerFirstName"}),searchOpenDialogs:true,viewName:u,actions:new a({text:e}),errorMessage:"A keresztnév mező nem található."})},iAddTheLastName:function(e){return this.waitFor({id:"addCustomerLastName",matchers:new o({name:"id",value:"addCustomerLastName"}),searchOpenDialogs:true,viewName:u,actions:new a({text:e}),errorMessage:"A vezetéknév mező nem található."})},iAddTheCountry:function(e){return this.waitFor({id:"addCountry",matchers:new o({name:"id",value:"addCountry"}),searchOpenDialogs:true,viewName:u,actions:new a({text:e}),errorMessage:"Az ország mező nem található."})},iAddTheZip:function(e){return this.waitFor({id:"addZip",matchers:new o({name:"id",value:"addZip"}),searchOpenDialogs:true,viewName:u,actions:new a({text:e}),errorMessage:"Az irányítószám mező nem található."})},iAddTheCity:function(e){return this.waitFor({id:"addCity",matchers:new o({name:"id",value:"addCity"}),searchOpenDialogs:true,viewName:u,actions:new a({text:e}),errorMessage:"A város mező nem található."})},iAddTheStreet:function(e){return this.waitFor({id:"addStreet",matchers:new o({name:"id",value:"addStreet"}),searchOpenDialogs:true,viewName:u,actions:new a({text:e}),errorMessage:"Az utca mező nem található."})},iAddTheHouseNumber:function(e){return this.waitFor({id:"addHouseNumber",matchers:new o({name:"id",value:"addHouseNumber"}),searchOpenDialogs:true,viewName:u,actions:new a({text:e}),errorMessage:"A házszám mező nem található."})},iAddTheFloor:function(e){return this.waitFor({id:"addFloor",matchers:new o({name:"id",value:"addFloor"}),searchOpenDialogs:true,viewName:u,actions:new a({text:e}),errorMessage:"Az emelet mező nem található."})},iAddTheDoor:function(e){return this.waitFor({id:"addDoor",matchers:new o({name:"id",value:"addDoor"}),searchOpenDialogs:true,viewName:u,actions:new a({text:e}),errorMessage:"Az ajtó mező nem található."})},iAddTheDoorbell:function(e){return this.waitFor({id:"addDoorbell",matchers:new o({name:"id",value:"addDoorbell"}),searchOpenDialogs:true,viewName:u,actions:new a({text:e}),errorMessage:"A kapucsengő mező nem található."})},iAddThePhone:function(e){return this.waitFor({id:"addPhone",matchers:new o({name:"id",value:"addPhone"}),searchOpenDialogs:true,viewName:u,actions:new a({text:e}),errorMessage:"A telefonszám mező nem található."})},iAddTheEmail:function(e){return this.waitFor({id:"addEmail",matchers:new o({name:"id",value:"addEmail"}),searchOpenDialogs:true,viewName:u,actions:new a({text:e}),errorMessage:"Az email mező nem található."})},iAddTheBankAccount:function(e){return this.waitFor({id:"addBankAccount",matchers:new o({name:"id",value:"addBankAccount"}),searchOpenDialogs:true,viewName:u,actions:new a({text:e}),errorMessage:"A bankszámlaszám mező nem található."})}},assertions:{iShouldSeeTheApp:function(){return this.waitFor({viewName:u,success:function(){e.assert.ok(true,"A vásárlók oldal megjelenik.")},errorMessage:"A vásárlók oldal nem található."})},theTableHasZeroItem:function(){return this.waitFor({id:"customersList",viewName:u,matchers:new s({name:"items",length:0}),success:function(){e.assert.ok(true,"A lista 0 megfelelő elemet tartalmaz.")},errorMessage:"A lista nem 0 megfelelő elemet tartalmaz."})},theTableHasOneItem:function(){return this.waitFor({id:"customersList",viewName:u,matchers:new s({name:"items",length:1}),success:function(){e.assert.ok(true,"A lista 1 megfelelő elemet tartalmaz.")},errorMessage:"A lista nem 1 megfelelő elemet tartalmaz."})},theListShouldBeSortedAscendingOnFirstName:function(){return this.theListShouldBeSortedAscendingOnField("firstName")},theListShouldBeSortedAscendingOnLastName:function(){return this.theListShouldBeSortedAscendingOnField("lastName")},theListShouldBeSortedAscendingOnCustomerId:function(){return this.theListShouldBeSortedAscendingOnField("id")},theListShouldBeSortedAscendingOnField:function(t){function a(e){var a=null,s=function(e){if(!e.getBindingContext()){return false}var s=e.getBindingContext().getProperty(t);if(s===undefined){return false}if(!a||s>=a){a=s}return true};return e.getItems().every(s)}return this.waitFor({viewName:u,id:"customersList",matchers:a,success:function(){e.assert.ok(true,"A lista jól van rendezve a feltételre: '"+t+"'.")},errorMessage:"A lista nincs jól rendezve a feltételre: '"+t+"'."})},theListShouldBeFilteredOnTypeCivil:function(){return this.theListShouldBeFilteredOnFieldUsingComparator("customerType","Magánszemély")},theListShouldBeFilteredOnFieldUsingComparator:function(t,a){function s(e){var s=function(e){if(!e.getBindingContext()){return false}else{var s=e.getBindingContext().getProperty(t);if(s!=a){return false}else{return true}}};return e.getItems().every(s)}return this.waitFor({viewName:u,id:"customersList",matchers:s,success:function(){e.assert.ok(true,"A lista jól van szűrve a feltételre: '"+t+"'.")},errorMessage:"A lista nincs jól szűrve a feltételre: '"+t+"'."})},iShouldSeeTheAddCustomerDialog:function(){return this.waitFor({controlType:"sap.m.Dialog",success:function(){e.assert.ok(true,"A vásárló hozzáadás ablak megjelenik.")},errorMessage:"Nem található a hozzáadás ablak."})},iShouldSeeTheSuccessAddCustomerDialog:function(){return this.waitFor({id:"idCustomerAddSuccessMessageBox",autoWait:false,success:function(){e.assert.ok(true,"A felugró ablak megnyílt")},errorMessage:"A felugró ablak nem található."})},iShouldSeeTheErrorAddCustomerDialog:function(){return this.waitFor({id:"idCustomerAddErrorMessageBox",autoWait:false,success:function(){e.assert.ok(true,"A hibaüzenetfelugró ablak megnyílt")},errorMessage:"A felugró hibaüzenet ablak nem található."})}}}})});