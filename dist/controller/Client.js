sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageBox","sap/ui/core/routing/History","sap/ui/model/json/JSONModel","sap/ui/model/Filter","sap/ui/model/Sorter"],function(e,t,i,s,n,o){"use strict";return e.extend("Project.Project.controller.Client",{onInit:function(){},_onProductMatched:function(e){},handleIconTabBarSelect:function(e){if(e.getParameter("key")==="modify"){this.getView().byId("footer").setVisible(true)}else{this.getView().byId("footer").setVisible(false)}},onSaveButtonPress:function(e){this.modify()},onCancelButtonPress:function(){window.location.reload()},onNavBack:function(){var e=i.getInstance();var t=e.getPreviousHash();if(t!==undefined){window.history.go(-1)}else{var s=sap.ui.core.UIComponent.getRouterFor(this);if(this.name==="customer"){s.navTo("Customers",true)}else if(this.name==="seller"){s.navTo("Sellers",true)}}},onEmailButtonPress:function(e){var t=this.getView().getModel("i18n").getResourceBundle();if(this.name==="customer"){sap.m.URLHelper.triggerEmail(this.customer.email,t.getText("EmailSubject"),t.getText("EmailBody")+" "+this.customer.firstName+" "+this.customer.lastName+"!")}else if(this.name==="seller"){sap.m.URLHelper.triggerEmail(this.seller.email,t.getText("EmailSubject"),t.getText("EmailBody")+" "+this.seller.name+"!")}},onManagementDeleteButtonPress:function(e){var i=e.getSource().getBindingContext();var s=i.getProperty(null,i).id;var n=this.getView().getModel("i18n").getResourceBundle();var o=this;t.confirm(n.getText("ConfirmDelete"),{actions:[t.Action.YES,t.Action.NO],onClose:function(e){if(e===t.Action.YES){o.deleteManagement(s)}}})},onManagementListItemPress:function(e){var t=this.getView().getModel("i18n").getResourceBundle();var i=e.getSource().getBindingContext();var n=i.getProperty(null,i);var o=new s;o.setData(n);var r,a;if(this.name==="customer"){r=t.getText("CustomerOrderProducts");a={path:"/orderProductList/",template:new sap.m.StandardListItem({title:"{product/name}",info:"{quantity}"+" "+t.getText("QuantityType")})}}else if(this.name==="seller"){r=t.getText("SellerAcProducts");a={path:"/acedProducts/",template:new sap.m.StandardListItem({title:"{product/name}",info:"{quantity}"+" "+t.getText("QuantityType")})}}this.resizableDialog=new sap.m.Dialog({title:r,contentWidth:"550px",contentHeight:"300px",resizable:true,content:new sap.m.List({items:a}),beginButton:new sap.m.Button({text:t.getText("Close"),press:function(){this.resizableDialog.close();this.resizableDialog.destroy()}.bind(this)})});this.resizableDialog.setModel(o);this.getView().addDependent(this.resizableDialog);this.resizableDialog.open()},onSettingsButtonPress:function(){if(!this.settingsDialog){if(this.name==="customer"){this.settingsDialog=sap.ui.xmlfragment("Project.Project.view.Fragments.CustomerSettings",this)}else if(this.name==="seller"){this.settingsDialog=sap.ui.xmlfragment("Project.Project.view.Fragments.SellerSettings",this)}this.settingsDialog.setModel(this.getView().getModel());this.getView().addDependent(this.settingsDialog)}this.settingsDialog.open()},handleConfirm:function(e){var t=e.getParameters(),i,s,r=[],a=[];var l;if(this.name==="customer"){l=this.getView().byId("customersOrderList").getBinding("items")}else if(this.name==="seller"){l=this.getView().byId("sellersAcList").getBinding("items")}i=t.sortItem.getKey();s=t.sortDescending;r.push(new o(i,s));l.sort(r);t.filterItems.forEach(function(e){var t=e.getKey();if(t==="fulfilled"){a.push(new n("fulfillDate","NE",null))}else{a.push(new n("fulfillDate","EQ",null))}});l.filter(a)},onExit:function(){},delete:function(){},deleteManagement:function(e){},modify:function(){}})});